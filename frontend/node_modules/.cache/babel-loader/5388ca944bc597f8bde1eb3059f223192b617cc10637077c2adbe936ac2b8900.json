{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeProgressCallback = exports.CLI = void 0;\nconst process_1 = require(\"process\");\nconst readline = __importStar(require(\"readline\"));\nconst progress_1 = __importDefault(require(\"progress\"));\nconst helpers_1 = require(\"yargs/helpers\");\nconst yargs_1 = __importDefault(require(\"yargs/yargs\"));\nconst browser_data_js_1 = require(\"./browser-data/browser-data.js\");\nconst Cache_js_1 = require(\"./Cache.js\");\nconst detectPlatform_js_1 = require(\"./detectPlatform.js\");\nconst install_js_1 = require(\"./install.js\");\nconst launch_js_1 = require(\"./launch.js\");\n/**\n * @public\n */\nclass CLI {\n  #cachePath;\n  #rl;\n  #scriptName = '';\n  #allowCachePathOverride = true;\n  #pinnedBrowsers;\n  #prefixCommand;\n  constructor(opts, rl) {\n    if (!opts) {\n      opts = {};\n    }\n    if (typeof opts === 'string') {\n      opts = {\n        cachePath: opts\n      };\n    }\n    this.#cachePath = opts.cachePath ?? process.cwd();\n    this.#rl = rl;\n    this.#scriptName = opts.scriptName ?? '@puppeteer/browsers';\n    this.#allowCachePathOverride = opts.allowCachePathOverride ?? true;\n    this.#pinnedBrowsers = opts.pinnedBrowsers;\n    this.#prefixCommand = opts.prefixCommand;\n  }\n  #defineBrowserParameter(yargs) {\n    yargs.positional('browser', {\n      description: 'Which browser to install <browser>[@<buildId|latest>]. `latest` will try to find the latest available build. `buildId` is a browser-specific identifier such as a version or a revision.',\n      type: 'string',\n      coerce: opt => {\n        return {\n          name: this.#parseBrowser(opt),\n          buildId: this.#parseBuildId(opt)\n        };\n      }\n    });\n  }\n  #definePlatformParameter(yargs) {\n    yargs.option('platform', {\n      type: 'string',\n      desc: 'Platform that the binary needs to be compatible with.',\n      choices: Object.values(browser_data_js_1.BrowserPlatform),\n      defaultDescription: 'Auto-detected'\n    });\n  }\n  #definePathParameter(yargs, required = false) {\n    if (!this.#allowCachePathOverride) {\n      return;\n    }\n    yargs.option('path', {\n      type: 'string',\n      desc: 'Path to the root folder for the browser downloads and installation. The installation folder structure is compatible with the cache structure used by Puppeteer.',\n      defaultDescription: 'Current working directory',\n      ...(required ? {} : {\n        default: process.cwd()\n      })\n    });\n    if (required) {\n      yargs.demandOption('path');\n    }\n  }\n  async run(argv) {\n    const yargsInstance = (0, yargs_1.default)((0, helpers_1.hideBin)(argv));\n    let target = yargsInstance.scriptName(this.#scriptName);\n    if (this.#prefixCommand) {\n      target = target.command(this.#prefixCommand.cmd, this.#prefixCommand.description, yargs => {\n        return this.#build(yargs);\n      });\n    } else {\n      target = this.#build(target);\n    }\n    await target.demandCommand(1).help().wrap(Math.min(120, yargsInstance.terminalWidth())).parse();\n  }\n  #build(yargs) {\n    const latestOrPinned = this.#pinnedBrowsers ? 'pinned' : 'latest';\n    // If there are pinned browsers allow the positional arg to be optional\n    const browserArgType = this.#pinnedBrowsers ? '[browser]' : '<browser>';\n    return yargs.command(`install ${browserArgType}`, 'Download and install the specified browser. If successful, the command outputs the actual browser buildId that was installed and the absolute path to the browser executable (format: <browser>@<buildID> <path>).', yargs => {\n      this.#defineBrowserParameter(yargs);\n      this.#definePlatformParameter(yargs);\n      this.#definePathParameter(yargs);\n      yargs.option('base-url', {\n        type: 'string',\n        desc: 'Base URL to download from'\n      });\n      if (this.#pinnedBrowsers) {\n        yargs.example('$0 install', 'Install all pinned browsers');\n      }\n      yargs.example('$0 install chrome', `Install the ${latestOrPinned} available build of the Chrome browser.`);\n      yargs.example('$0 install chrome@latest', 'Install the latest available build for the Chrome browser.');\n      yargs.example('$0 install chrome@stable', 'Install the latest available build for the Chrome browser from the stable channel.');\n      yargs.example('$0 install chrome@beta', 'Install the latest available build for the Chrome browser from the beta channel.');\n      yargs.example('$0 install chrome@dev', 'Install the latest available build for the Chrome browser from the dev channel.');\n      yargs.example('$0 install chrome@canary', 'Install the latest available build for the Chrome Canary browser.');\n      yargs.example('$0 install chrome@115', 'Install the latest available build for Chrome 115.');\n      yargs.example('$0 install chromedriver@canary', 'Install the latest available build for ChromeDriver Canary.');\n      yargs.example('$0 install chromedriver@115', 'Install the latest available build for ChromeDriver 115.');\n      yargs.example('$0 install chromedriver@115.0.5790', 'Install the latest available patch (115.0.5790.X) build for ChromeDriver.');\n      yargs.example('$0 install chrome-headless-shell', 'Install the latest available chrome-headless-shell build.');\n      yargs.example('$0 install chrome-headless-shell@beta', 'Install the latest available chrome-headless-shell build corresponding to the Beta channel.');\n      yargs.example('$0 install chrome-headless-shell@118', 'Install the latest available chrome-headless-shell 118 build.');\n      yargs.example('$0 install chromium@1083080', 'Install the revision 1083080 of the Chromium browser.');\n      yargs.example('$0 install firefox', 'Install the latest nightly available build of the Firefox browser.');\n      yargs.example('$0 install firefox@stable', 'Install the latest stable build of the Firefox browser.');\n      yargs.example('$0 install firefox@beta', 'Install the latest beta build of the Firefox browser.');\n      yargs.example('$0 install firefox@devedition', 'Install the latest devedition build of the Firefox browser.');\n      yargs.example('$0 install firefox@esr', 'Install the latest ESR build of the Firefox browser.');\n      yargs.example('$0 install firefox@nightly', 'Install the latest nightly build of the Firefox browser.');\n      yargs.example('$0 install firefox@stable_111.0.1', 'Install a specific version of the Firefox browser.');\n      yargs.example('$0 install firefox --platform mac', 'Install the latest Mac (Intel) build of the Firefox browser.');\n      if (this.#allowCachePathOverride) {\n        yargs.example('$0 install firefox --path /tmp/my-browser-cache', 'Install to the specified cache directory.');\n      }\n    }, async argv => {\n      const args = argv;\n      if (this.#pinnedBrowsers && !args.browser) {\n        // Use allSettled to avoid scenarios that\n        // a browser may fail early and leave the other\n        // installation in a faulty state\n        const result = await Promise.allSettled(Object.entries(this.#pinnedBrowsers).map(async ([browser, options]) => {\n          if (options.skipDownload) {\n            return;\n          }\n          await this.#install({\n            ...argv,\n            browser: {\n              name: browser,\n              buildId: options.buildId\n            }\n          });\n        }));\n        for (const install of result) {\n          if (install.status === 'rejected') {\n            throw install.reason;\n          }\n        }\n      } else {\n        await this.#install(args);\n      }\n    }).command('launch <browser>', 'Launch the specified browser', yargs => {\n      this.#defineBrowserParameter(yargs);\n      this.#definePlatformParameter(yargs);\n      this.#definePathParameter(yargs);\n      yargs.option('detached', {\n        type: 'boolean',\n        desc: 'Detach the child process.',\n        default: false\n      });\n      yargs.option('system', {\n        type: 'boolean',\n        desc: 'Search for a browser installed on the system instead of the cache folder.',\n        default: false\n      });\n      yargs.example('$0 launch chrome@115.0.5790.170', 'Launch Chrome 115.0.5790.170');\n      yargs.example('$0 launch firefox@112.0a1', 'Launch the Firefox browser identified by the milestone 112.0a1.');\n      yargs.example('$0 launch chrome@115.0.5790.170 --detached', 'Launch the browser but detach the sub-processes.');\n      yargs.example('$0 launch chrome@canary --system', 'Try to locate the Canary build of Chrome installed on the system and launch it.');\n    }, async argv => {\n      const args = argv;\n      const executablePath = args.system ? (0, launch_js_1.computeSystemExecutablePath)({\n        browser: args.browser.name,\n        // TODO: throw an error if not a ChromeReleaseChannel is provided.\n        channel: args.browser.buildId,\n        platform: args.platform\n      }) : (0, launch_js_1.computeExecutablePath)({\n        browser: args.browser.name,\n        buildId: args.browser.buildId,\n        cacheDir: args.path ?? this.#cachePath,\n        platform: args.platform\n      });\n      (0, launch_js_1.launch)({\n        executablePath,\n        detached: args.detached\n      });\n    }).command('clear', this.#allowCachePathOverride ? 'Removes all installed browsers from the specified cache directory' : `Removes all installed browsers from ${this.#cachePath}`, yargs => {\n      this.#definePathParameter(yargs, true);\n    }, async argv => {\n      const args = argv;\n      const cacheDir = args.path ?? this.#cachePath;\n      const rl = this.#rl ?? readline.createInterface({\n        input: process_1.stdin,\n        output: process_1.stdout\n      });\n      rl.question(`Do you want to permanently and recursively delete the content of ${cacheDir} (yes/No)? `, answer => {\n        rl.close();\n        if (!['y', 'yes'].includes(answer.toLowerCase().trim())) {\n          console.log('Cancelled.');\n          return;\n        }\n        const cache = new Cache_js_1.Cache(cacheDir);\n        cache.clear();\n        console.log(`${cacheDir} cleared.`);\n      });\n    }).demandCommand(1).help();\n  }\n  #parseBrowser(version) {\n    return version.split('@').shift();\n  }\n  #parseBuildId(version) {\n    const parts = version.split('@');\n    return parts.length === 2 ? parts[1] : this.#pinnedBrowsers ? 'pinned' : 'latest';\n  }\n  async #install(args) {\n    args.platform ??= (0, detectPlatform_js_1.detectBrowserPlatform)();\n    if (!args.browser) {\n      throw new Error(`No browser arg proveded`);\n    }\n    if (!args.platform) {\n      throw new Error(`Could not resolve the current platform`);\n    }\n    if (args.browser.buildId === 'pinned') {\n      const options = this.#pinnedBrowsers?.[args.browser.name];\n      if (!options || !options.buildId) {\n        throw new Error(`No pinned version found for ${args.browser.name}`);\n      }\n      args.browser.buildId = options.buildId;\n    }\n    const originalBuildId = args.browser.buildId;\n    args.browser.buildId = await (0, browser_data_js_1.resolveBuildId)(args.browser.name, args.platform, args.browser.buildId);\n    await (0, install_js_1.install)({\n      browser: args.browser.name,\n      buildId: args.browser.buildId,\n      platform: args.platform,\n      cacheDir: args.path ?? this.#cachePath,\n      downloadProgressCallback: makeProgressCallback(args.browser.name, args.browser.buildId),\n      baseUrl: args.baseUrl,\n      buildIdAlias: originalBuildId !== args.browser.buildId ? originalBuildId : undefined\n    });\n    console.log(`${args.browser.name}@${args.browser.buildId} ${(0, launch_js_1.computeExecutablePath)({\n      browser: args.browser.name,\n      buildId: args.browser.buildId,\n      cacheDir: args.path ?? this.#cachePath,\n      platform: args.platform\n    })}`);\n  }\n}\nexports.CLI = CLI;\n/**\n * @public\n */\nfunction makeProgressCallback(browser, buildId) {\n  let progressBar;\n  let lastDownloadedBytes = 0;\n  return (downloadedBytes, totalBytes) => {\n    if (!progressBar) {\n      progressBar = new progress_1.default(`Downloading ${browser} ${buildId} - ${toMegabytes(totalBytes)} [:bar] :percent :etas `, {\n        complete: '=',\n        incomplete: ' ',\n        width: 20,\n        total: totalBytes\n      });\n    }\n    const delta = downloadedBytes - lastDownloadedBytes;\n    lastDownloadedBytes = downloadedBytes;\n    progressBar.tick(delta);\n  };\n}\nexports.makeProgressCallback = makeProgressCallback;\nfunction toMegabytes(bytes) {\n  const mb = bytes / 1000 / 1000;\n  return `${Math.round(mb * 10) / 10} MB`;\n}","map":{"version":3,"names":["process_1","require","readline","__importStar","progress_1","__importDefault","helpers_1","yargs_1","browser_data_js_1","Cache_js_1","detectPlatform_js_1","install_js_1","launch_js_1","CLI","cachePath","rl","scriptName","allowCachePathOverride","pinnedBrowsers","prefixCommand","constructor","opts","process","cwd","defineBrowserParameter","#defineBrowserParameter","yargs","positional","description","type","coerce","opt","name","parseBrowser","buildId","parseBuildId","definePlatformParameter","#definePlatformParameter","option","desc","choices","Object","values","BrowserPlatform","defaultDescription","definePathParameter","#definePathParameter","required","default","demandOption","run","argv","yargsInstance","hideBin","target","command","cmd","build","demandCommand","help","wrap","Math","min","terminalWidth","parse","#build","latestOrPinned","browserArgType","example","args","browser","result","Promise","allSettled","entries","map","options","skipDownload","install","status","reason","executablePath","system","computeSystemExecutablePath","channel","platform","computeExecutablePath","cacheDir","path","launch","detached","createInterface","input","stdin","output","stdout","question","answer","close","includes","toLowerCase","trim","console","log","cache","Cache","clear","#parseBrowser","version","split","shift","#parseBuildId","parts","length","#install","detectBrowserPlatform","Error","originalBuildId","resolveBuildId","downloadProgressCallback","makeProgressCallback","baseUrl","buildIdAlias","undefined","exports","progressBar","lastDownloadedBytes","downloadedBytes","totalBytes","toMegabytes","complete","incomplete","width","total","delta","tick","bytes","mb","round"],"sources":["/Users/lawj4/webDevelopment/Todo-List/frontend/node_modules/@puppeteer/browsers/src/CLI.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {stdin as input, stdout as output} from 'process';\nimport * as readline from 'readline';\n\nimport ProgressBar from 'progress';\nimport type * as Yargs from 'yargs';\nimport {hideBin} from 'yargs/helpers';\nimport yargs from 'yargs/yargs';\n\nimport {\n  resolveBuildId,\n  type Browser,\n  BrowserPlatform,\n  type ChromeReleaseChannel,\n} from './browser-data/browser-data.js';\nimport {Cache} from './Cache.js';\nimport {detectBrowserPlatform} from './detectPlatform.js';\nimport {install} from './install.js';\nimport {\n  computeExecutablePath,\n  computeSystemExecutablePath,\n  launch,\n} from './launch.js';\n\ninterface InstallBrowser {\n  name: Browser;\n  buildId: string;\n}\ninterface InstallArgs {\n  browser?: InstallBrowser;\n  path?: string;\n  platform?: BrowserPlatform;\n  baseUrl?: string;\n}\n\ninterface LaunchArgs {\n  browser: {\n    name: Browser;\n    buildId: string;\n  };\n  path?: string;\n  platform?: BrowserPlatform;\n  detached: boolean;\n  system: boolean;\n}\n\ninterface ClearArgs {\n  path?: string;\n}\n\n/**\n * @public\n */\nexport class CLI {\n  #cachePath;\n  #rl?: readline.Interface;\n  #scriptName = '';\n  #allowCachePathOverride = true;\n  #pinnedBrowsers?: Partial<{\n    [key in Browser]: {\n      buildId: string;\n      skipDownload: boolean;\n    };\n  }>;\n  #prefixCommand?: {cmd: string; description: string};\n\n  constructor(\n    opts?:\n      | string\n      | {\n          cachePath?: string;\n          scriptName?: string;\n          prefixCommand?: {cmd: string; description: string};\n          allowCachePathOverride?: boolean;\n          pinnedBrowsers?: Partial<{\n            [key in Browser]: {\n              buildId: string;\n              skipDownload: boolean;\n            };\n          }>;\n        },\n    rl?: readline.Interface\n  ) {\n    if (!opts) {\n      opts = {};\n    }\n    if (typeof opts === 'string') {\n      opts = {\n        cachePath: opts,\n      };\n    }\n    this.#cachePath = opts.cachePath ?? process.cwd();\n    this.#rl = rl;\n    this.#scriptName = opts.scriptName ?? '@puppeteer/browsers';\n    this.#allowCachePathOverride = opts.allowCachePathOverride ?? true;\n    this.#pinnedBrowsers = opts.pinnedBrowsers;\n    this.#prefixCommand = opts.prefixCommand;\n  }\n\n  #defineBrowserParameter(yargs: Yargs.Argv<unknown>): void {\n    yargs.positional('browser', {\n      description:\n        'Which browser to install <browser>[@<buildId|latest>]. `latest` will try to find the latest available build. `buildId` is a browser-specific identifier such as a version or a revision.',\n      type: 'string',\n      coerce: (opt): InstallArgs['browser'] => {\n        return {\n          name: this.#parseBrowser(opt),\n          buildId: this.#parseBuildId(opt),\n        };\n      },\n    });\n  }\n\n  #definePlatformParameter(yargs: Yargs.Argv<unknown>): void {\n    yargs.option('platform', {\n      type: 'string',\n      desc: 'Platform that the binary needs to be compatible with.',\n      choices: Object.values(BrowserPlatform),\n      defaultDescription: 'Auto-detected',\n    });\n  }\n\n  #definePathParameter(yargs: Yargs.Argv<unknown>, required = false): void {\n    if (!this.#allowCachePathOverride) {\n      return;\n    }\n    yargs.option('path', {\n      type: 'string',\n      desc: 'Path to the root folder for the browser downloads and installation. The installation folder structure is compatible with the cache structure used by Puppeteer.',\n      defaultDescription: 'Current working directory',\n      ...(required ? {} : {default: process.cwd()}),\n    });\n    if (required) {\n      yargs.demandOption('path');\n    }\n  }\n\n  async run(argv: string[]): Promise<void> {\n    const yargsInstance = yargs(hideBin(argv));\n    let target = yargsInstance.scriptName(this.#scriptName);\n    if (this.#prefixCommand) {\n      target = target.command(\n        this.#prefixCommand.cmd,\n        this.#prefixCommand.description,\n        yargs => {\n          return this.#build(yargs);\n        }\n      );\n    } else {\n      target = this.#build(target);\n    }\n    await target\n      .demandCommand(1)\n      .help()\n      .wrap(Math.min(120, yargsInstance.terminalWidth()))\n      .parse();\n  }\n\n  #build(yargs: Yargs.Argv<unknown>): Yargs.Argv<unknown> {\n    const latestOrPinned = this.#pinnedBrowsers ? 'pinned' : 'latest';\n    // If there are pinned browsers allow the positional arg to be optional\n    const browserArgType = this.#pinnedBrowsers ? '[browser]' : '<browser>';\n    return yargs\n      .command(\n        `install ${browserArgType}`,\n        'Download and install the specified browser. If successful, the command outputs the actual browser buildId that was installed and the absolute path to the browser executable (format: <browser>@<buildID> <path>).',\n        yargs => {\n          this.#defineBrowserParameter(yargs);\n          this.#definePlatformParameter(yargs);\n          this.#definePathParameter(yargs);\n          yargs.option('base-url', {\n            type: 'string',\n            desc: 'Base URL to download from',\n          });\n          if (this.#pinnedBrowsers) {\n            yargs.example('$0 install', 'Install all pinned browsers');\n          }\n          yargs.example(\n            '$0 install chrome',\n            `Install the ${latestOrPinned} available build of the Chrome browser.`\n          );\n          yargs.example(\n            '$0 install chrome@latest',\n            'Install the latest available build for the Chrome browser.'\n          );\n          yargs.example(\n            '$0 install chrome@stable',\n            'Install the latest available build for the Chrome browser from the stable channel.'\n          );\n          yargs.example(\n            '$0 install chrome@beta',\n            'Install the latest available build for the Chrome browser from the beta channel.'\n          );\n          yargs.example(\n            '$0 install chrome@dev',\n            'Install the latest available build for the Chrome browser from the dev channel.'\n          );\n          yargs.example(\n            '$0 install chrome@canary',\n            'Install the latest available build for the Chrome Canary browser.'\n          );\n          yargs.example(\n            '$0 install chrome@115',\n            'Install the latest available build for Chrome 115.'\n          );\n          yargs.example(\n            '$0 install chromedriver@canary',\n            'Install the latest available build for ChromeDriver Canary.'\n          );\n          yargs.example(\n            '$0 install chromedriver@115',\n            'Install the latest available build for ChromeDriver 115.'\n          );\n          yargs.example(\n            '$0 install chromedriver@115.0.5790',\n            'Install the latest available patch (115.0.5790.X) build for ChromeDriver.'\n          );\n          yargs.example(\n            '$0 install chrome-headless-shell',\n            'Install the latest available chrome-headless-shell build.'\n          );\n          yargs.example(\n            '$0 install chrome-headless-shell@beta',\n            'Install the latest available chrome-headless-shell build corresponding to the Beta channel.'\n          );\n          yargs.example(\n            '$0 install chrome-headless-shell@118',\n            'Install the latest available chrome-headless-shell 118 build.'\n          );\n          yargs.example(\n            '$0 install chromium@1083080',\n            'Install the revision 1083080 of the Chromium browser.'\n          );\n          yargs.example(\n            '$0 install firefox',\n            'Install the latest nightly available build of the Firefox browser.'\n          );\n          yargs.example(\n            '$0 install firefox@stable',\n            'Install the latest stable build of the Firefox browser.'\n          );\n          yargs.example(\n            '$0 install firefox@beta',\n            'Install the latest beta build of the Firefox browser.'\n          );\n          yargs.example(\n            '$0 install firefox@devedition',\n            'Install the latest devedition build of the Firefox browser.'\n          );\n          yargs.example(\n            '$0 install firefox@esr',\n            'Install the latest ESR build of the Firefox browser.'\n          );\n          yargs.example(\n            '$0 install firefox@nightly',\n            'Install the latest nightly build of the Firefox browser.'\n          );\n          yargs.example(\n            '$0 install firefox@stable_111.0.1',\n            'Install a specific version of the Firefox browser.'\n          );\n          yargs.example(\n            '$0 install firefox --platform mac',\n            'Install the latest Mac (Intel) build of the Firefox browser.'\n          );\n          if (this.#allowCachePathOverride) {\n            yargs.example(\n              '$0 install firefox --path /tmp/my-browser-cache',\n              'Install to the specified cache directory.'\n            );\n          }\n        },\n        async argv => {\n          const args = argv as unknown as InstallArgs;\n          if (this.#pinnedBrowsers && !args.browser) {\n            // Use allSettled to avoid scenarios that\n            // a browser may fail early and leave the other\n            // installation in a faulty state\n            const result = await Promise.allSettled(\n              Object.entries(this.#pinnedBrowsers).map(\n                async ([browser, options]) => {\n                  if (options.skipDownload) {\n                    return;\n                  }\n                  await this.#install({\n                    ...argv,\n                    browser: {\n                      name: browser as Browser,\n                      buildId: options.buildId,\n                    },\n                  });\n                }\n              )\n            );\n\n            for (const install of result) {\n              if (install.status === 'rejected') {\n                throw install.reason;\n              }\n            }\n          } else {\n            await this.#install(args);\n          }\n        }\n      )\n      .command(\n        'launch <browser>',\n        'Launch the specified browser',\n        yargs => {\n          this.#defineBrowserParameter(yargs);\n          this.#definePlatformParameter(yargs);\n          this.#definePathParameter(yargs);\n          yargs.option('detached', {\n            type: 'boolean',\n            desc: 'Detach the child process.',\n            default: false,\n          });\n          yargs.option('system', {\n            type: 'boolean',\n            desc: 'Search for a browser installed on the system instead of the cache folder.',\n            default: false,\n          });\n          yargs.example(\n            '$0 launch chrome@115.0.5790.170',\n            'Launch Chrome 115.0.5790.170'\n          );\n          yargs.example(\n            '$0 launch firefox@112.0a1',\n            'Launch the Firefox browser identified by the milestone 112.0a1.'\n          );\n          yargs.example(\n            '$0 launch chrome@115.0.5790.170 --detached',\n            'Launch the browser but detach the sub-processes.'\n          );\n          yargs.example(\n            '$0 launch chrome@canary --system',\n            'Try to locate the Canary build of Chrome installed on the system and launch it.'\n          );\n        },\n        async argv => {\n          const args = argv as unknown as LaunchArgs;\n          const executablePath = args.system\n            ? computeSystemExecutablePath({\n                browser: args.browser.name,\n                // TODO: throw an error if not a ChromeReleaseChannel is provided.\n                channel: args.browser.buildId as ChromeReleaseChannel,\n                platform: args.platform,\n              })\n            : computeExecutablePath({\n                browser: args.browser.name,\n                buildId: args.browser.buildId,\n                cacheDir: args.path ?? this.#cachePath,\n                platform: args.platform,\n              });\n          launch({\n            executablePath,\n            detached: args.detached,\n          });\n        }\n      )\n      .command(\n        'clear',\n        this.#allowCachePathOverride\n          ? 'Removes all installed browsers from the specified cache directory'\n          : `Removes all installed browsers from ${this.#cachePath}`,\n        yargs => {\n          this.#definePathParameter(yargs, true);\n        },\n        async argv => {\n          const args = argv as unknown as ClearArgs;\n          const cacheDir = args.path ?? this.#cachePath;\n          const rl = this.#rl ?? readline.createInterface({input, output});\n          rl.question(\n            `Do you want to permanently and recursively delete the content of ${cacheDir} (yes/No)? `,\n            answer => {\n              rl.close();\n              if (!['y', 'yes'].includes(answer.toLowerCase().trim())) {\n                console.log('Cancelled.');\n                return;\n              }\n              const cache = new Cache(cacheDir);\n              cache.clear();\n              console.log(`${cacheDir} cleared.`);\n            }\n          );\n        }\n      )\n      .demandCommand(1)\n      .help();\n  }\n\n  #parseBrowser(version: string): Browser {\n    return version.split('@').shift() as Browser;\n  }\n\n  #parseBuildId(version: string): string {\n    const parts = version.split('@');\n    return parts.length === 2\n      ? parts[1]!\n      : this.#pinnedBrowsers\n        ? 'pinned'\n        : 'latest';\n  }\n\n  async #install(args: InstallArgs) {\n    args.platform ??= detectBrowserPlatform();\n    if (!args.browser) {\n      throw new Error(`No browser arg proveded`);\n    }\n    if (!args.platform) {\n      throw new Error(`Could not resolve the current platform`);\n    }\n    if (args.browser.buildId === 'pinned') {\n      const options = this.#pinnedBrowsers?.[args.browser.name];\n      if (!options || !options.buildId) {\n        throw new Error(`No pinned version found for ${args.browser.name}`);\n      }\n      args.browser.buildId = options.buildId;\n    }\n    const originalBuildId = args.browser.buildId;\n    args.browser.buildId = await resolveBuildId(\n      args.browser.name,\n      args.platform,\n      args.browser.buildId\n    );\n    await install({\n      browser: args.browser.name,\n      buildId: args.browser.buildId,\n      platform: args.platform,\n      cacheDir: args.path ?? this.#cachePath,\n      downloadProgressCallback: makeProgressCallback(\n        args.browser.name,\n        args.browser.buildId\n      ),\n      baseUrl: args.baseUrl,\n      buildIdAlias:\n        originalBuildId !== args.browser.buildId ? originalBuildId : undefined,\n    });\n    console.log(\n      `${args.browser.name}@${args.browser.buildId} ${computeExecutablePath({\n        browser: args.browser.name,\n        buildId: args.browser.buildId,\n        cacheDir: args.path ?? this.#cachePath,\n        platform: args.platform,\n      })}`\n    );\n  }\n}\n\n/**\n * @public\n */\nexport function makeProgressCallback(\n  browser: Browser,\n  buildId: string\n): (downloadedBytes: number, totalBytes: number) => void {\n  let progressBar: ProgressBar;\n  let lastDownloadedBytes = 0;\n  return (downloadedBytes: number, totalBytes: number) => {\n    if (!progressBar) {\n      progressBar = new ProgressBar(\n        `Downloading ${browser} ${buildId} - ${toMegabytes(\n          totalBytes\n        )} [:bar] :percent :etas `,\n        {\n          complete: '=',\n          incomplete: ' ',\n          width: 20,\n          total: totalBytes,\n        }\n      );\n    }\n    const delta = downloadedBytes - lastDownloadedBytes;\n    lastDownloadedBytes = downloadedBytes;\n    progressBar.tick(delta);\n  };\n}\n\nfunction toMegabytes(bytes: number) {\n  const mb = bytes / 1000 / 1000;\n  return `${Math.round(mb * 10) / 10} MB`;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}