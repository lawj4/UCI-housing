{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2021 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OutgoingMessage = void 0;\nclass OutgoingMessage {\n  #message;\n  #channel;\n  constructor(message, channel = null) {\n    this.#message = message;\n    this.#channel = channel;\n  }\n  static createFromPromise(messagePromise, channel) {\n    return messagePromise.then(message => {\n      if (message.kind === 'success') {\n        return {\n          kind: 'success',\n          value: new OutgoingMessage(message.value, channel)\n        };\n      }\n      return message;\n    });\n  }\n  static createResolved(message, channel) {\n    return Promise.resolve({\n      kind: 'success',\n      value: new OutgoingMessage(message, channel)\n    });\n  }\n  get message() {\n    return this.#message;\n  }\n  get channel() {\n    return this.#channel;\n  }\n}\nexports.OutgoingMessage = OutgoingMessage;","map":{"version":3,"names":["OutgoingMessage","message","channel","constructor","createFromPromise","messagePromise","then","kind","value","createResolved","Promise","resolve","exports"],"sources":["../../../src/bidiMapper/OutgoingMessage.ts"],"sourcesContent":[null],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;;;AAqBA,MAAaA,eAAe;EACjB,CAAAC,OAAQ;EACR,CAAAC,OAAQ;EAEjBC,YACEF,OAA6B,EAC7BC,OAAA,GAA2B,IAAI;IAE/B,IAAI,CAAC,CAAAD,OAAQ,GAAGA,OAAO;IACvB,IAAI,CAAC,CAAAC,OAAQ,GAAGA,OAAO;EACzB;EAEA,OAAOE,iBAAiBA,CACtBC,cAAqD,EACrDH,OAAwB;IAExB,OAAOG,cAAc,CAACC,IAAI,CAAEL,OAAO,IAAI;MACrC,IAAIA,OAAO,CAACM,IAAI,KAAK,SAAS,EAAE;QAC9B,OAAO;UACLA,IAAI,EAAE,SAAS;UACfC,KAAK,EAAE,IAAIR,eAAe,CAACC,OAAO,CAACO,KAAK,EAAEN,OAAO;SAClD;MACH;MACA,OAAOD,OAAO;IAChB,CAAC,CAAC;EACJ;EAEA,OAAOQ,cAAcA,CACnBR,OAA6B,EAC7BC,OAAyB;IAEzB,OAAOQ,OAAO,CAACC,OAAO,CAAC;MACrBJ,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,IAAIR,eAAe,CAACC,OAAO,EAAEC,OAAO;KAC5C,CAAC;EACJ;EAEA,IAAID,OAAOA,CAAA;IACT,OAAO,IAAI,CAAC,CAAAA,OAAQ;EACtB;EAEA,IAAIC,OAAOA,CAAA;IACT,OAAO,IAAI,CAAC,CAAAA,OAAQ;EACtB;;AA3CFU,OAAA,CAAAZ,eAAA,GAAAA,eAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}