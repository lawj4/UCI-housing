{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar __runInitializers = this && this.__runInitializers || function (thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n    value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\nvar __esDecorate = this && this.__esDecorate || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) {\n    if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\");\n    return f;\n  }\n  var kind = contextIn.kind,\n    key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _,\n    done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    var context = {};\n    for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n    for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n    context.addInitializer = function (f) {\n      if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n      extraInitializers.push(accept(f || null));\n    };\n    var result = (0, decorators[i])(kind === \"accessor\" ? {\n      get: descriptor.get,\n      set: descriptor.set\n    } : descriptor[key], context);\n    if (kind === \"accessor\") {\n      if (result === void 0) continue;\n      if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n      if (_ = accept(result.get)) descriptor.get = _;\n      if (_ = accept(result.set)) descriptor.set = _;\n      if (_ = accept(result.init)) initializers.unshift(_);\n    } else if (_ = accept(result)) {\n      if (kind === \"field\") initializers.unshift(_);else descriptor[key] = _;\n    }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CdpFrame = void 0;\nconst Frame_js_1 = require(\"../api/Frame.js\");\nconst Errors_js_1 = require(\"../common/Errors.js\");\nconst util_js_1 = require(\"../common/util.js\");\nconst Deferred_js_1 = require(\"../util/Deferred.js\");\nconst disposable_js_1 = require(\"../util/disposable.js\");\nconst ErrorLike_js_1 = require(\"../util/ErrorLike.js\");\nconst Accessibility_js_1 = require(\"./Accessibility.js\");\nconst FrameManagerEvents_js_1 = require(\"./FrameManagerEvents.js\");\nconst IsolatedWorld_js_1 = require(\"./IsolatedWorld.js\");\nconst IsolatedWorlds_js_1 = require(\"./IsolatedWorlds.js\");\nconst LifecycleWatcher_js_1 = require(\"./LifecycleWatcher.js\");\nconst utils_js_1 = require(\"./utils.js\");\n/**\n * @internal\n */\nlet CdpFrame = (() => {\n  let _classSuper = Frame_js_1.Frame;\n  let _instanceExtraInitializers = [];\n  let _goto_decorators;\n  let _waitForNavigation_decorators;\n  let _setContent_decorators;\n  let _addPreloadScript_decorators;\n  let _addExposedFunctionBinding_decorators;\n  let _removeExposedFunctionBinding_decorators;\n  let _waitForDevicePrompt_decorators;\n  return class CdpFrame extends _classSuper {\n    static {\n      const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(_classSuper[Symbol.metadata] ?? null) : void 0;\n      __esDecorate(this, null, _goto_decorators, {\n        kind: \"method\",\n        name: \"goto\",\n        static: false,\n        private: false,\n        access: {\n          has: obj => \"goto\" in obj,\n          get: obj => obj.goto\n        },\n        metadata: _metadata\n      }, null, _instanceExtraInitializers);\n      __esDecorate(this, null, _waitForNavigation_decorators, {\n        kind: \"method\",\n        name: \"waitForNavigation\",\n        static: false,\n        private: false,\n        access: {\n          has: obj => \"waitForNavigation\" in obj,\n          get: obj => obj.waitForNavigation\n        },\n        metadata: _metadata\n      }, null, _instanceExtraInitializers);\n      __esDecorate(this, null, _setContent_decorators, {\n        kind: \"method\",\n        name: \"setContent\",\n        static: false,\n        private: false,\n        access: {\n          has: obj => \"setContent\" in obj,\n          get: obj => obj.setContent\n        },\n        metadata: _metadata\n      }, null, _instanceExtraInitializers);\n      __esDecorate(this, null, _addPreloadScript_decorators, {\n        kind: \"method\",\n        name: \"addPreloadScript\",\n        static: false,\n        private: false,\n        access: {\n          has: obj => \"addPreloadScript\" in obj,\n          get: obj => obj.addPreloadScript\n        },\n        metadata: _metadata\n      }, null, _instanceExtraInitializers);\n      __esDecorate(this, null, _addExposedFunctionBinding_decorators, {\n        kind: \"method\",\n        name: \"addExposedFunctionBinding\",\n        static: false,\n        private: false,\n        access: {\n          has: obj => \"addExposedFunctionBinding\" in obj,\n          get: obj => obj.addExposedFunctionBinding\n        },\n        metadata: _metadata\n      }, null, _instanceExtraInitializers);\n      __esDecorate(this, null, _removeExposedFunctionBinding_decorators, {\n        kind: \"method\",\n        name: \"removeExposedFunctionBinding\",\n        static: false,\n        private: false,\n        access: {\n          has: obj => \"removeExposedFunctionBinding\" in obj,\n          get: obj => obj.removeExposedFunctionBinding\n        },\n        metadata: _metadata\n      }, null, _instanceExtraInitializers);\n      __esDecorate(this, null, _waitForDevicePrompt_decorators, {\n        kind: \"method\",\n        name: \"waitForDevicePrompt\",\n        static: false,\n        private: false,\n        access: {\n          has: obj => \"waitForDevicePrompt\" in obj,\n          get: obj => obj.waitForDevicePrompt\n        },\n        metadata: _metadata\n      }, null, _instanceExtraInitializers);\n      if (_metadata) Object.defineProperty(this, Symbol.metadata, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value: _metadata\n      });\n    }\n    #url = (__runInitializers(this, _instanceExtraInitializers), '');\n    #detached = false;\n    #client;\n    _frameManager;\n    _loaderId = '';\n    _lifecycleEvents = new Set();\n    _id;\n    _parentId;\n    accessibility;\n    worlds;\n    constructor(frameManager, frameId, parentFrameId, client) {\n      super();\n      this._frameManager = frameManager;\n      this.#url = '';\n      this._id = frameId;\n      this._parentId = parentFrameId;\n      this.#detached = false;\n      this.#client = client;\n      this._loaderId = '';\n      this.worlds = {\n        [IsolatedWorlds_js_1.MAIN_WORLD]: new IsolatedWorld_js_1.IsolatedWorld(this, this._frameManager.timeoutSettings),\n        [IsolatedWorlds_js_1.PUPPETEER_WORLD]: new IsolatedWorld_js_1.IsolatedWorld(this, this._frameManager.timeoutSettings)\n      };\n      this.accessibility = new Accessibility_js_1.Accessibility(this.worlds[IsolatedWorlds_js_1.MAIN_WORLD]);\n      this.on(Frame_js_1.FrameEvent.FrameSwappedByActivation, () => {\n        // Emulate loading process for swapped frames.\n        this._onLoadingStarted();\n        this._onLoadingStopped();\n      });\n      this.worlds[IsolatedWorlds_js_1.MAIN_WORLD].emitter.on('consoleapicalled', this.#onMainWorldConsoleApiCalled.bind(this));\n      this.worlds[IsolatedWorlds_js_1.MAIN_WORLD].emitter.on('bindingcalled', this.#onMainWorldBindingCalled.bind(this));\n    }\n    #onMainWorldConsoleApiCalled(event) {\n      this._frameManager.emit(FrameManagerEvents_js_1.FrameManagerEvent.ConsoleApiCalled, [this.worlds[IsolatedWorlds_js_1.MAIN_WORLD], event]);\n    }\n    #onMainWorldBindingCalled(event) {\n      this._frameManager.emit(FrameManagerEvents_js_1.FrameManagerEvent.BindingCalled, [this.worlds[IsolatedWorlds_js_1.MAIN_WORLD], event]);\n    }\n    /**\n     * This is used internally in DevTools.\n     *\n     * @internal\n     */\n    _client() {\n      return this.#client;\n    }\n    /**\n     * Updates the frame ID with the new ID. This happens when the main frame is\n     * replaced by a different frame.\n     */\n    updateId(id) {\n      this._id = id;\n    }\n    updateClient(client) {\n      this.#client = client;\n    }\n    page() {\n      return this._frameManager.page();\n    }\n    async goto(url, options = {}) {\n      const {\n        referer = this._frameManager.networkManager.extraHTTPHeaders()['referer'],\n        referrerPolicy = this._frameManager.networkManager.extraHTTPHeaders()['referer-policy'],\n        waitUntil = ['load'],\n        timeout = this._frameManager.timeoutSettings.navigationTimeout()\n      } = options;\n      let ensureNewDocumentNavigation = false;\n      const watcher = new LifecycleWatcher_js_1.LifecycleWatcher(this._frameManager.networkManager, this, waitUntil, timeout);\n      let error = await Deferred_js_1.Deferred.race([navigate(this.#client, url, referer, referrerPolicy, this._id), watcher.terminationPromise()]);\n      if (!error) {\n        error = await Deferred_js_1.Deferred.race([watcher.terminationPromise(), ensureNewDocumentNavigation ? watcher.newDocumentNavigationPromise() : watcher.sameDocumentNavigationPromise()]);\n      }\n      try {\n        if (error) {\n          throw error;\n        }\n        return await watcher.navigationResponse();\n      } finally {\n        watcher.dispose();\n      }\n      async function navigate(client, url, referrer, referrerPolicy, frameId) {\n        try {\n          const response = await client.send('Page.navigate', {\n            url,\n            referrer,\n            frameId,\n            referrerPolicy\n          });\n          ensureNewDocumentNavigation = !!response.loaderId;\n          if (response.errorText === 'net::ERR_HTTP_RESPONSE_CODE_FAILURE') {\n            return null;\n          }\n          return response.errorText ? new Error(`${response.errorText} at ${url}`) : null;\n        } catch (error) {\n          if ((0, ErrorLike_js_1.isErrorLike)(error)) {\n            return error;\n          }\n          throw error;\n        }\n      }\n    }\n    async waitForNavigation(options = {}) {\n      const {\n        waitUntil = ['load'],\n        timeout = this._frameManager.timeoutSettings.navigationTimeout(),\n        signal\n      } = options;\n      const watcher = new LifecycleWatcher_js_1.LifecycleWatcher(this._frameManager.networkManager, this, waitUntil, timeout, signal);\n      const error = await Deferred_js_1.Deferred.race([watcher.terminationPromise(), ...(options.ignoreSameDocumentNavigation ? [] : [watcher.sameDocumentNavigationPromise()]), watcher.newDocumentNavigationPromise()]);\n      try {\n        if (error) {\n          throw error;\n        }\n        const result = await Deferred_js_1.Deferred.race([watcher.terminationPromise(), watcher.navigationResponse()]);\n        if (result instanceof Error) {\n          throw error;\n        }\n        return result || null;\n      } finally {\n        watcher.dispose();\n      }\n    }\n    get client() {\n      return this.#client;\n    }\n    mainRealm() {\n      return this.worlds[IsolatedWorlds_js_1.MAIN_WORLD];\n    }\n    isolatedRealm() {\n      return this.worlds[IsolatedWorlds_js_1.PUPPETEER_WORLD];\n    }\n    async setContent(html, options = {}) {\n      const {\n        waitUntil = ['load'],\n        timeout = this._frameManager.timeoutSettings.navigationTimeout()\n      } = options;\n      // We rely upon the fact that document.open() will reset frame lifecycle with \"init\"\n      // lifecycle event. @see https://crrev.com/608658\n      await this.setFrameContent(html);\n      const watcher = new LifecycleWatcher_js_1.LifecycleWatcher(this._frameManager.networkManager, this, waitUntil, timeout);\n      const error = await Deferred_js_1.Deferred.race([watcher.terminationPromise(), watcher.lifecyclePromise()]);\n      watcher.dispose();\n      if (error) {\n        throw error;\n      }\n    }\n    url() {\n      return this.#url;\n    }\n    parentFrame() {\n      return this._frameManager._frameTree.parentFrame(this._id) || null;\n    }\n    childFrames() {\n      return this._frameManager._frameTree.childFrames(this._id);\n    }\n    #deviceRequestPromptManager() {\n      return this._frameManager._deviceRequestPromptManager(this.#client);\n    }\n    async addPreloadScript(preloadScript) {\n      // TODO: this might be not correct and we might be adding a preload\n      // script multiple times to the nested frames.\n      if (this.#client === this._frameManager.client && this !== this._frameManager.mainFrame()) {\n        return;\n      }\n      if (preloadScript.getIdForFrame(this)) {\n        return;\n      }\n      const {\n        identifier\n      } = await this.#client.send('Page.addScriptToEvaluateOnNewDocument', {\n        source: preloadScript.source\n      });\n      preloadScript.setIdForFrame(this, identifier);\n    }\n    async addExposedFunctionBinding(binding) {\n      // If a frame has not started loading, it might never start. Rely on\n      // addScriptToEvaluateOnNewDocument in that case.\n      if (this !== this._frameManager.mainFrame() && !this._hasStartedLoading) {\n        return;\n      }\n      await Promise.all([this.#client.send('Runtime.addBinding', {\n        name: utils_js_1.CDP_BINDING_PREFIX + binding.name\n      }), this.evaluate(binding.initSource).catch(util_js_1.debugError)]);\n    }\n    async removeExposedFunctionBinding(binding) {\n      // If a frame has not started loading, it might never start. Rely on\n      // addScriptToEvaluateOnNewDocument in that case.\n      if (this !== this._frameManager.mainFrame() && !this._hasStartedLoading) {\n        return;\n      }\n      await Promise.all([this.#client.send('Runtime.removeBinding', {\n        name: utils_js_1.CDP_BINDING_PREFIX + binding.name\n      }), this.evaluate(name => {\n        // Removes the dangling Puppeteer binding wrapper.\n        // @ts-expect-error: In a different context.\n        globalThis[name] = undefined;\n      }, binding.name).catch(util_js_1.debugError)]);\n    }\n    async waitForDevicePrompt(options = {}) {\n      return await this.#deviceRequestPromptManager().waitForDevicePrompt(options);\n    }\n    _navigated(framePayload) {\n      this._name = framePayload.name;\n      this.#url = `${framePayload.url}${framePayload.urlFragment || ''}`;\n    }\n    _navigatedWithinDocument(url) {\n      this.#url = url;\n    }\n    _onLifecycleEvent(loaderId, name) {\n      if (name === 'init') {\n        this._loaderId = loaderId;\n        this._lifecycleEvents.clear();\n      }\n      this._lifecycleEvents.add(name);\n    }\n    _onLoadingStopped() {\n      this._lifecycleEvents.add('DOMContentLoaded');\n      this._lifecycleEvents.add('load');\n    }\n    _onLoadingStarted() {\n      this._hasStartedLoading = true;\n    }\n    get detached() {\n      return this.#detached;\n    }\n    [(_goto_decorators = [Frame_js_1.throwIfDetached], _waitForNavigation_decorators = [Frame_js_1.throwIfDetached], _setContent_decorators = [Frame_js_1.throwIfDetached], _addPreloadScript_decorators = [Frame_js_1.throwIfDetached], _addExposedFunctionBinding_decorators = [Frame_js_1.throwIfDetached], _removeExposedFunctionBinding_decorators = [Frame_js_1.throwIfDetached], _waitForDevicePrompt_decorators = [Frame_js_1.throwIfDetached], disposable_js_1.disposeSymbol)]() {\n      if (this.#detached) {\n        return;\n      }\n      this.#detached = true;\n      this.worlds[IsolatedWorlds_js_1.MAIN_WORLD][disposable_js_1.disposeSymbol]();\n      this.worlds[IsolatedWorlds_js_1.PUPPETEER_WORLD][disposable_js_1.disposeSymbol]();\n    }\n    exposeFunction() {\n      throw new Errors_js_1.UnsupportedOperation();\n    }\n  };\n})();\nexports.CdpFrame = CdpFrame;","map":{"version":3,"names":["Frame_js_1","require","Errors_js_1","util_js_1","Deferred_js_1","disposable_js_1","ErrorLike_js_1","Accessibility_js_1","FrameManagerEvents_js_1","IsolatedWorld_js_1","IsolatedWorlds_js_1","LifecycleWatcher_js_1","utils_js_1","CdpFrame","Frame","_classSuper","__esDecorate","_goto_decorators","kind","name","static","private","access","has","obj","get","goto","metadata","_metadata","_instanceExtraInitializers","_waitForNavigation_decorators","waitForNavigation","_setContent_decorators","setContent","_addPreloadScript_decorators","addPreloadScript","_addExposedFunctionBinding_decorators","addExposedFunctionBinding","_removeExposedFunctionBinding_decorators","removeExposedFunctionBinding","_waitForDevicePrompt_decorators","waitForDevicePrompt","url","__runInitializers","detached","client","_frameManager","_loaderId","_lifecycleEvents","Set","_id","_parentId","accessibility","worlds","constructor","frameManager","frameId","parentFrameId","MAIN_WORLD","IsolatedWorld","timeoutSettings","PUPPETEER_WORLD","Accessibility","on","FrameEvent","FrameSwappedByActivation","_onLoadingStarted","_onLoadingStopped","emitter","onMainWorldConsoleApiCalled","bind","onMainWorldBindingCalled","#onMainWorldConsoleApiCalled","event","emit","FrameManagerEvent","ConsoleApiCalled","#onMainWorldBindingCalled","BindingCalled","_client","updateId","id","updateClient","page","options","referer","networkManager","extraHTTPHeaders","referrerPolicy","waitUntil","timeout","navigationTimeout","ensureNewDocumentNavigation","watcher","LifecycleWatcher","error","Deferred","race","navigate","terminationPromise","newDocumentNavigationPromise","sameDocumentNavigationPromise","navigationResponse","dispose","referrer","response","send","loaderId","errorText","Error","isErrorLike","signal","ignoreSameDocumentNavigation","result","mainRealm","isolatedRealm","html","setFrameContent","lifecyclePromise","parentFrame","_frameTree","childFrames","deviceRequestPromptManager","#deviceRequestPromptManager","_deviceRequestPromptManager","preloadScript","mainFrame","getIdForFrame","identifier","source","setIdForFrame","binding","_hasStartedLoading","Promise","all","CDP_BINDING_PREFIX","evaluate","initSource","catch","debugError","globalThis","undefined","_navigated","framePayload","_name","urlFragment","_navigatedWithinDocument","_onLifecycleEvent","clear","add","throwIfDetached","disposeSymbol","exposeFunction","UnsupportedOperation","exports"],"sources":["/Users/lawj4/webDevelopment/Todo-List/frontend/node_modules/puppeteer-core/src/cdp/Frame.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {CDPSession} from '../api/CDPSession.js';\nimport type {WaitForOptions} from '../api/Frame.js';\nimport {Frame, FrameEvent, throwIfDetached} from '../api/Frame.js';\nimport type {HTTPResponse} from '../api/HTTPResponse.js';\nimport type {WaitTimeoutOptions} from '../api/Page.js';\nimport {UnsupportedOperation} from '../common/Errors.js';\nimport {debugError} from '../common/util.js';\nimport {Deferred} from '../util/Deferred.js';\nimport {disposeSymbol} from '../util/disposable.js';\nimport {isErrorLike} from '../util/ErrorLike.js';\n\nimport {Accessibility} from './Accessibility.js';\nimport type {Binding} from './Binding.js';\nimport type {CdpPreloadScript} from './CdpPreloadScript.js';\nimport type {\n  DeviceRequestPrompt,\n  DeviceRequestPromptManager,\n} from './DeviceRequestPrompt.js';\nimport type {FrameManager} from './FrameManager.js';\nimport {FrameManagerEvent} from './FrameManagerEvents.js';\nimport type {IsolatedWorldChart} from './IsolatedWorld.js';\nimport {IsolatedWorld} from './IsolatedWorld.js';\nimport {MAIN_WORLD, PUPPETEER_WORLD} from './IsolatedWorlds.js';\nimport {\n  LifecycleWatcher,\n  type PuppeteerLifeCycleEvent,\n} from './LifecycleWatcher.js';\nimport type {CdpPage} from './Page.js';\nimport {CDP_BINDING_PREFIX} from './utils.js';\n\n/**\n * @internal\n */\nexport class CdpFrame extends Frame {\n  #url = '';\n  #detached = false;\n  #client: CDPSession;\n\n  _frameManager: FrameManager;\n  _loaderId = '';\n  _lifecycleEvents = new Set<string>();\n\n  override _id: string;\n  override _parentId?: string;\n  override accessibility: Accessibility;\n\n  worlds: IsolatedWorldChart;\n\n  constructor(\n    frameManager: FrameManager,\n    frameId: string,\n    parentFrameId: string | undefined,\n    client: CDPSession\n  ) {\n    super();\n    this._frameManager = frameManager;\n    this.#url = '';\n    this._id = frameId;\n    this._parentId = parentFrameId;\n    this.#detached = false;\n    this.#client = client;\n\n    this._loaderId = '';\n    this.worlds = {\n      [MAIN_WORLD]: new IsolatedWorld(this, this._frameManager.timeoutSettings),\n      [PUPPETEER_WORLD]: new IsolatedWorld(\n        this,\n        this._frameManager.timeoutSettings\n      ),\n    };\n\n    this.accessibility = new Accessibility(this.worlds[MAIN_WORLD]);\n\n    this.on(FrameEvent.FrameSwappedByActivation, () => {\n      // Emulate loading process for swapped frames.\n      this._onLoadingStarted();\n      this._onLoadingStopped();\n    });\n\n    this.worlds[MAIN_WORLD].emitter.on(\n      'consoleapicalled',\n      this.#onMainWorldConsoleApiCalled.bind(this)\n    );\n    this.worlds[MAIN_WORLD].emitter.on(\n      'bindingcalled',\n      this.#onMainWorldBindingCalled.bind(this)\n    );\n  }\n\n  #onMainWorldConsoleApiCalled(\n    event: Protocol.Runtime.ConsoleAPICalledEvent\n  ): void {\n    this._frameManager.emit(FrameManagerEvent.ConsoleApiCalled, [\n      this.worlds[MAIN_WORLD],\n      event,\n    ]);\n  }\n\n  #onMainWorldBindingCalled(event: Protocol.Runtime.BindingCalledEvent) {\n    this._frameManager.emit(FrameManagerEvent.BindingCalled, [\n      this.worlds[MAIN_WORLD],\n      event,\n    ]);\n  }\n\n  /**\n   * This is used internally in DevTools.\n   *\n   * @internal\n   */\n  _client(): CDPSession {\n    return this.#client;\n  }\n\n  /**\n   * Updates the frame ID with the new ID. This happens when the main frame is\n   * replaced by a different frame.\n   */\n  updateId(id: string): void {\n    this._id = id;\n  }\n\n  updateClient(client: CDPSession): void {\n    this.#client = client;\n  }\n\n  override page(): CdpPage {\n    return this._frameManager.page();\n  }\n\n  @throwIfDetached\n  override async goto(\n    url: string,\n    options: {\n      referer?: string;\n      referrerPolicy?: string;\n      timeout?: number;\n      waitUntil?: PuppeteerLifeCycleEvent | PuppeteerLifeCycleEvent[];\n    } = {}\n  ): Promise<HTTPResponse | null> {\n    const {\n      referer = this._frameManager.networkManager.extraHTTPHeaders()['referer'],\n      referrerPolicy = this._frameManager.networkManager.extraHTTPHeaders()[\n        'referer-policy'\n      ],\n      waitUntil = ['load'],\n      timeout = this._frameManager.timeoutSettings.navigationTimeout(),\n    } = options;\n\n    let ensureNewDocumentNavigation = false;\n    const watcher = new LifecycleWatcher(\n      this._frameManager.networkManager,\n      this,\n      waitUntil,\n      timeout\n    );\n    let error = await Deferred.race([\n      navigate(\n        this.#client,\n        url,\n        referer,\n        referrerPolicy as Protocol.Page.ReferrerPolicy,\n        this._id\n      ),\n      watcher.terminationPromise(),\n    ]);\n    if (!error) {\n      error = await Deferred.race([\n        watcher.terminationPromise(),\n        ensureNewDocumentNavigation\n          ? watcher.newDocumentNavigationPromise()\n          : watcher.sameDocumentNavigationPromise(),\n      ]);\n    }\n\n    try {\n      if (error) {\n        throw error;\n      }\n      return await watcher.navigationResponse();\n    } finally {\n      watcher.dispose();\n    }\n\n    async function navigate(\n      client: CDPSession,\n      url: string,\n      referrer: string | undefined,\n      referrerPolicy: Protocol.Page.ReferrerPolicy | undefined,\n      frameId: string\n    ): Promise<Error | null> {\n      try {\n        const response = await client.send('Page.navigate', {\n          url,\n          referrer,\n          frameId,\n          referrerPolicy,\n        });\n        ensureNewDocumentNavigation = !!response.loaderId;\n        if (response.errorText === 'net::ERR_HTTP_RESPONSE_CODE_FAILURE') {\n          return null;\n        }\n        return response.errorText\n          ? new Error(`${response.errorText} at ${url}`)\n          : null;\n      } catch (error) {\n        if (isErrorLike(error)) {\n          return error;\n        }\n        throw error;\n      }\n    }\n  }\n\n  @throwIfDetached\n  override async waitForNavigation(\n    options: WaitForOptions = {}\n  ): Promise<HTTPResponse | null> {\n    const {\n      waitUntil = ['load'],\n      timeout = this._frameManager.timeoutSettings.navigationTimeout(),\n      signal,\n    } = options;\n    const watcher = new LifecycleWatcher(\n      this._frameManager.networkManager,\n      this,\n      waitUntil,\n      timeout,\n      signal\n    );\n    const error = await Deferred.race([\n      watcher.terminationPromise(),\n      ...(options.ignoreSameDocumentNavigation\n        ? []\n        : [watcher.sameDocumentNavigationPromise()]),\n      watcher.newDocumentNavigationPromise(),\n    ]);\n    try {\n      if (error) {\n        throw error;\n      }\n      const result = await Deferred.race<\n        Error | HTTPResponse | null | undefined\n      >([watcher.terminationPromise(), watcher.navigationResponse()]);\n      if (result instanceof Error) {\n        throw error;\n      }\n      return result || null;\n    } finally {\n      watcher.dispose();\n    }\n  }\n\n  override get client(): CDPSession {\n    return this.#client;\n  }\n\n  override mainRealm(): IsolatedWorld {\n    return this.worlds[MAIN_WORLD];\n  }\n\n  override isolatedRealm(): IsolatedWorld {\n    return this.worlds[PUPPETEER_WORLD];\n  }\n\n  @throwIfDetached\n  override async setContent(\n    html: string,\n    options: {\n      timeout?: number;\n      waitUntil?: PuppeteerLifeCycleEvent | PuppeteerLifeCycleEvent[];\n    } = {}\n  ): Promise<void> {\n    const {\n      waitUntil = ['load'],\n      timeout = this._frameManager.timeoutSettings.navigationTimeout(),\n    } = options;\n\n    // We rely upon the fact that document.open() will reset frame lifecycle with \"init\"\n    // lifecycle event. @see https://crrev.com/608658\n    await this.setFrameContent(html);\n\n    const watcher = new LifecycleWatcher(\n      this._frameManager.networkManager,\n      this,\n      waitUntil,\n      timeout\n    );\n    const error = await Deferred.race<void | Error | undefined>([\n      watcher.terminationPromise(),\n      watcher.lifecyclePromise(),\n    ]);\n    watcher.dispose();\n    if (error) {\n      throw error;\n    }\n  }\n\n  override url(): string {\n    return this.#url;\n  }\n\n  override parentFrame(): CdpFrame | null {\n    return this._frameManager._frameTree.parentFrame(this._id) || null;\n  }\n\n  override childFrames(): CdpFrame[] {\n    return this._frameManager._frameTree.childFrames(this._id);\n  }\n\n  #deviceRequestPromptManager(): DeviceRequestPromptManager {\n    return this._frameManager._deviceRequestPromptManager(this.#client);\n  }\n\n  @throwIfDetached\n  async addPreloadScript(preloadScript: CdpPreloadScript): Promise<void> {\n    // TODO: this might be not correct and we might be adding a preload\n    // script multiple times to the nested frames.\n    if (\n      this.#client === this._frameManager.client &&\n      this !== this._frameManager.mainFrame()\n    ) {\n      return;\n    }\n    if (preloadScript.getIdForFrame(this)) {\n      return;\n    }\n    const {identifier} = await this.#client.send(\n      'Page.addScriptToEvaluateOnNewDocument',\n      {\n        source: preloadScript.source,\n      }\n    );\n    preloadScript.setIdForFrame(this, identifier);\n  }\n\n  @throwIfDetached\n  async addExposedFunctionBinding(binding: Binding): Promise<void> {\n    // If a frame has not started loading, it might never start. Rely on\n    // addScriptToEvaluateOnNewDocument in that case.\n    if (this !== this._frameManager.mainFrame() && !this._hasStartedLoading) {\n      return;\n    }\n    await Promise.all([\n      this.#client.send('Runtime.addBinding', {\n        name: CDP_BINDING_PREFIX + binding.name,\n      }),\n      this.evaluate(binding.initSource).catch(debugError),\n    ]);\n  }\n\n  @throwIfDetached\n  async removeExposedFunctionBinding(binding: Binding): Promise<void> {\n    // If a frame has not started loading, it might never start. Rely on\n    // addScriptToEvaluateOnNewDocument in that case.\n    if (this !== this._frameManager.mainFrame() && !this._hasStartedLoading) {\n      return;\n    }\n    await Promise.all([\n      this.#client.send('Runtime.removeBinding', {\n        name: CDP_BINDING_PREFIX + binding.name,\n      }),\n      this.evaluate(name => {\n        // Removes the dangling Puppeteer binding wrapper.\n        // @ts-expect-error: In a different context.\n        globalThis[name] = undefined;\n      }, binding.name).catch(debugError),\n    ]);\n  }\n\n  @throwIfDetached\n  override async waitForDevicePrompt(\n    options: WaitTimeoutOptions = {}\n  ): Promise<DeviceRequestPrompt> {\n    return await this.#deviceRequestPromptManager().waitForDevicePrompt(\n      options\n    );\n  }\n\n  _navigated(framePayload: Protocol.Page.Frame): void {\n    this._name = framePayload.name;\n    this.#url = `${framePayload.url}${framePayload.urlFragment || ''}`;\n  }\n\n  _navigatedWithinDocument(url: string): void {\n    this.#url = url;\n  }\n\n  _onLifecycleEvent(loaderId: string, name: string): void {\n    if (name === 'init') {\n      this._loaderId = loaderId;\n      this._lifecycleEvents.clear();\n    }\n    this._lifecycleEvents.add(name);\n  }\n\n  _onLoadingStopped(): void {\n    this._lifecycleEvents.add('DOMContentLoaded');\n    this._lifecycleEvents.add('load');\n  }\n\n  _onLoadingStarted(): void {\n    this._hasStartedLoading = true;\n  }\n\n  override get detached(): boolean {\n    return this.#detached;\n  }\n\n  [disposeSymbol](): void {\n    if (this.#detached) {\n      return;\n    }\n    this.#detached = true;\n    this.worlds[MAIN_WORLD][disposeSymbol]();\n    this.worlds[PUPPETEER_WORLD][disposeSymbol]();\n  }\n\n  exposeFunction(): never {\n    throw new UnsupportedOperation();\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}